parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({2:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=[],r=!0,o={};try{localStorage.setItem("tdmnco-model-js",{}),localStorage.removeItem("tdmnco-model-js")}catch(t){console.warn("Model.js: localStorage not supported!",t),r=!1}var a=function(){function a(t){if(e(this,a),!t.id)throw new Error("Model.js: cannot create instance without an id!");Object.assign(this,t);var n=(this.constructor.prototype.modelName||this.constructor.name)+"-"+this.id;return o[n]={updates:[]},new Proxy(this,{get:function(t,e,n){return Reflect.get(t,e,n)},set:function(t,e,r){var a=o[n].updates;if(a.length){var i=!0,c=!1,s=void 0;try{for(var u,l=a[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){(0,u.value)(e,t[e],r)}}catch(t){c=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(c)throw s}}}return Reflect.set(t,e,r),!0}})}return t(a,[{key:"_cache",value:function(){var t=this._cached(),e=(new Date).toISOString();return t?(t.instance=this,t.updated=e):(t={created:e,random:Math.random(),instance:this},n[this._id()]=t),t}},{key:"_cached",value:function(){return n[this._id()]}},{key:"_id",value:function(){return(this.modelName||this.constructor.name)+"-"+this.id}},{key:"onUpdate",value:function(t){o[this._id()].updates.push(t)}},{key:"save",value:function(){this._cache(),r&&localStorage.setItem(this._id(),JSON.stringify(this))}}],[{key:"get",value:function(t){t=(this.prototype.modelName||this.prototype.constructor.name)+"-"+t;var e=n[t];return!e&&r?new this(JSON.parse(localStorage.getItem(t))):e.instance}}]),a}();exports.Model=a;
},{}],1:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./model");Object.defineProperty(exports,"Model",{enumerable:!0,get:function(){return e.Model}});
},{"./model":2}]},{},[1], null)
//# sourceMappingURL=/index.map