{"version":3,"sources":["model.js","index.js"],"names":["persist","localStorage","setItem","error","console","warn","Model","data","Object","assign","save","constructor","name","id","JSON","stringify","parse","getItem","prototype"],"mappings":";;;;;;;;;;;AAAA;AACA,IAAIA,UAAU,IAAd;;AAEA,IAAI,cCFKM;ADGPL,eAAaC,OAAb,CAAqB,GAArB,EAA0B,EAA1B;AACD,CAFD,CAEE,OAAMC,KAAN,EAAa;AACbC,UAAQC,IAAR,CAAa,uCAAb,EAAsDF,KAAtD;;AAEAH,YAAU,KAAV;AACD;;AAED;;IACMM;AACJ,iBAAYC,IAAZ,EAAkB;AAAA;;AAChBC,WAAOC,MAAP,CAAc,IAAd,EAAoBF,IAApB;;AAEA,SAAKG,IAAL;AACD;;;;2BAQM;AACL,UAAIV,OAAJ,EAAa;AACXC,qBAAaC,OAAb,CAAqB,KAAKS,WAAL,CAAiBC,IAAjB,GAAwB,GAAxB,GAA8B,KAAKC,EAAxD,EAA4DC,KAAKC,SAAL,CAAe,IAAf,CAA5D;AACD;AACF;;;wBAVUF,IAAI;AACb,UAAIb,OAAJ,EAAa;AACX,eAAOc,KAAKE,KAAL,CAAWf,aAAagB,OAAb,CAAqB,KAAKC,SAAL,CAAeP,WAAf,CAA2BC,IAA3B,GAAkC,GAAlC,GAAwCC,EAA7D,CAAX,CAAP;AACD;AACF;;;;;;AASH;;;QACSP,QAAAA","file":"index.map","sourceRoot":"../src/js","sourcesContent":["// Variables:\nlet persist = true\n\ntry {\n  localStorage.setItem('1', {})\n} catch(error) {\n  console.warn('Model.js: localStorage not supported!', error)\n\n  persist = false\n}\n\n// Classes:\nclass Model {\n  constructor(data) {\n    Object.assign(this, data)\n\n    this.save()\n  }\n\n  static get(id) {\n    if (persist) {\n      return JSON.parse(localStorage.getItem(this.prototype.constructor.name + '-' + id))\n    }\n  }\n\n  save() {\n    if (persist) {\n      localStorage.setItem(this.constructor.name + '-' + this.id, JSON.stringify(this))\n    }\n  }\n}\n\n// Exports:\nexport { Model }\n","// Exports:\nexport { Model } from './model'\n"]}